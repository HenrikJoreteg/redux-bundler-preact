import{Component as t,createContext as r,h as o}from"preact";var e=r(),n=function(t){var r=t.store,n={};return Object.keys(t).forEach(function(r){"store"!==r&&(n[r]=t[r])}),o(e.Provider,Object.assign({value:r},n))},i=function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];var i=r.slice(-1)[0],s=[],c=[];(r.length>1?r.slice(0,-1):[]).forEach(function(t){if("select"!==t.slice(0,6)){if("do"!==t.slice(0,2))throw Error("CanNotConnect "+t);s.push(t)}else c.push(t)});var a=function(t){function r(r){var o=this;t.call(this,r);var e=r.store;this.state=e.select(c),this.unsubscribe=e.subscribeToSelectors(c,this.setState.bind(this)),this.actionCreators={},s.forEach(function(t){o.actionCreators[t]=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return e.action?e.action(t,r):e[t].apply(e,r)}})}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.componentWillUnmount=function(){this.unsubscribe()},r.prototype.render=function(t,r){return o(i,Object.assign({},t,r,this.actionCreators))},r}(t);return function(t){return o(e.Consumer,void 0,function(r){return o(a,Object.assign({store:r},t))})}};export{e as StoreContext,n as Provider,i as connect};
//# sourceMappingURL=index.m.js.map
